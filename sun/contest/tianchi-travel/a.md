区分 特殊的时间:
link class 全部都是1 ，有什么意义 ？
rehash
将 图形 可视化 或者 使其 对于模型兼容
adj = pd.read_csv("data/gy_contest_link_top.txt", delimiter=';', dtype={'in_links': np.str, 'out_links': str})
adj = adj.fillna('')


info = pd.read_csv("data/gy_contest_link_info.txt", delimiter=';')
from pyecharts import Graph

nodes = [{"name": n, "symbolSize": info[info.link_ID == n]['width'].values[0]} for n in adj.link_ID.values]

links = []
for (link, inl, outl) in adj.values:
    for ol in outl.split("#"):
        links.append({"source": link, "target": ol, "value": info[info.link_ID==link]['length'].values[0]+(0 if ol == '' else info[info.link_ID==ol]['length'].values[0])})
    for il in inl.split("#"):
        links.append({"source": il, "target": link, "value": info[info.link_ID==link]['length'].values[0]+(0 if il == '' else info[info.link_ID==il]['length'].values[0])})

graph = Graph("道路图", width=1600, height=800)
graph.add("", nodes, links, is_label_show=False, repulsion=1000, label_text_color=None, gravity=0.001)
# graph.show_config()
graph.render()

0 : 5.0849501964085295
50 : 0.4801384066358025
100 : 0.5250301956193884
150 : 0.44800623969732045
200 : 0.45420941182659935
250 : 0.43703876328388047
300 : 0.42084251258242145
350 : 0.42877006830457354
400 : 0.49566048944304153
450 : 0.4196748572969276
500 : 0.4177162247474748
550 : 0.4279668703089927
600 : 0.4586927762871773
650 : 0.4283004743616723
700 : 0.4141449214365881
750 : 0.4251402096047278
800 : 0.4447109988776655
850 : 0.43561373281425364
900 : 0.4314901401164422
950 : 0.4465750714611392
1000 : 0.44327322706228955
1050 : 0.43185991315060324
1100 : 0.4150207040018238
1150 : 0.407653082474046
1200 : 0.4571390445251122
1250 : 0.4265413740267256
1300 : 0.43466610549943885
1350 : 0.4354741534266274
1400 : 0.4359323212594697
1450 : 0.44304366363285635
1500 : 0.4564946064376403
1550 : 0.42780452090347926
1600 : 0.45373910546436586
1650 : 0.44839431642817057
1700 : 0.44397482310079966
1750 : 0.4277682697197671
1800 : 0.41853479456018516
1850 : 0.4503567028794893
1900 : 0.45451772499298543
1950 : 0.44264240714436026
2000 : 0.41497702721661056
2050 : 0.42518785949775534
2100 : 0.43200839777988215
2150 : 0.43705271026234566
2200 : 0.4263656530583614
2250 : 0.4385643544823232
2300 : 0.4093105260504349
2350 : 0.40401875745300225
2400 : 0.434578231314885
2450 : 0.41611026716820987
2500 : 0.41642304665579405
2550 : 0.4155012582421437
2600 : 0.42085317147166107
2650 : 0.4208670362478956
2700 : 0.40900032223274413
2750 : 0.39182471415544334
2800 : 0.43470323350694445
2850 : 0.4112629386311027
2900 : 0.4148458324565095
2950 : 0.38402281824319584
3000 : 0.42564145140642534
3050 : 0.4388788328160073
3100 : 0.4232183488531145
3150 : 0.41293816529005334
3200 : 0.4045730744949495
3250 : 0.39352430007540684
3300 : 0.4321944214278199
3350 : 0.4041916835455247
3400 : 0.42474659792368125
3450 : 0.4043128496334877
3500 : 0.40720513511854656
3550 : 0.41959503893097644
3600 : 0.4093995510662177
3650 : 0.4091063631102694
3700 : 0.39865878840488217
3750 : 0.39178355823863636
3800 : 0.38701180095223064
3850 : 0.3977867871422559
3900 : 0.41496650533108864
3950 : 0.410143618257225
4000 : 0.4014865451388889
4050 : 0.4069569391835017
4100 : 0.41089768671962684
4150 : 0.39228236137415823
4200 : 0.41348839962121214
4250 : 0.3949273551487093
4300 : 0.3942878765958193
4350 : 0.40855423812780584
4400 : 0.40732419134925646
4450 : 0.4135680261819585
4500 : 0.41538329804117563
4550 : 0.4095997134978255
4600 : 0.4257165568444865
4650 : 0.4079523259943182
4700 : 0.40425232139099326
4750 : 0.4016528676522166
4800 : 0.3995610948898709
4850 : 0.40272220906986533
4900 : 0.40087194646113916
4950 : 0.4167975874193322

0 : 4.37079606832211
50 : 0.35075587691147586
100 : 0.3222241402742705
150 : 0.30168284406565654
200 : 0.29670621141975306
250 : 0.300332973835578
300 : 0.28974899822881595
350 : 0.31683685268483447
400 : 0.2896204339400954
450 : 0.2915543784196128
500 : 0.28554714900743544
550 : 0.28576424509855497
600 : 0.2897941546541807
650 : 0.2897497380488917
700 : 0.28808588269851293
750 : 0.288290977263959
800 : 0.2901136747246773
850 : 0.291219760539422
900 : 0.2919358515712682
950 : 0.28613012722713244
1000 : 0.2831065921804854
1050 : 0.2945193306765572
1100 : 0.30007787291315935
1150 : 0.2844019623316498
1200 : 0.2997410903742284
1250 : 0.3000215917859147
1300 : 0.28253177938236534
1350 : 0.2985560356165825
1400 : 0.28245672874579125
1450 : 0.29384801245966613
1500 : 0.3004042157687991
1550 : 0.2816378575249018
1600 : 0.2842878656355219
1650 : 0.3077484918630752
1700 : 0.28960333587612236
1750 : 0.28230336678416107
1800 : 0.30143064762205385
1850 : 0.28529045884189114
1900 : 0.3240288354464787
1950 : 0.29316044560185184
2000 : 0.28550147196794334
2050 : 0.28093382282021606
2100 : 0.2944076178451178
2150 : 0.28804461717873175
2200 : 0.28368184339050223
2250 : 0.28856517650462965
2300 : 0.2880114074775533
2350 : 0.2817263345258137
2400 : 0.28493033086945846
2450 : 0.2860218942901235
2500 : 0.2896267635118547
2550 : 0.2913528733515713
2600 : 0.28698009829194726
2650 : 0.2815900980289001
2700 : 0.28606359822180133
2750 : 0.2882178994809203
2800 : 0.28501902707631876
2850 : 0.283154296875
2900 : 0.2883394217785494
2950 : 0.2864693758329826
3000 : 0.2858262529812009
3050 : 0.28731000324424805
3100 : 0.2873165246212121
3150 : 0.28906913097993825
3200 : 0.29104077888257573
3250 : 0.28655448254243826
3300 : 0.28702435049277497
3350 : 0.290028485812991
3400 : 0.29110292376893937
3450 : 0.28977406990916105
3500 : 0.2863657188201459
3550 : 0.2946800360374579
3600 : 0.2891242064744669
3650 : 0.28605378875561166
3700 : 0.2883519439183502
3750 : 0.29322779662948933
3800 : 0.29527123448021886
3850 : 0.28607368169542646
3900 : 0.29690256514800784
3950 : 0.2867875258663019
4000 : 0.2914015918735971
4050 : 0.2914158402602413
4100 : 0.2848439911265432
4150 : 0.28847212357954544
4200 : 0.28869058970784234
4250 : 0.2863258233375421
4300 : 0.29090536440796855
4350 : 0.3074659353956229
4400 : 0.30120914001122334
4450 : 0.28767876245089785
4500 : 0.28885795344942483
4550 : 0.28867184759925646
4600 : 0.29055636113741584
4650 : 0.2873842318585157
4700 : 0.2926644921436588
4750 : 0.29053537216785913
4800 : 0.2902445680765993
4850 : 0.2900621339260662
4900 : 0.29389204545454545
4950 : 0.29333479653303873
